var md5 = require('md5.js'); var session_id = ''; var header = { 'Content-Type': 'application/x-www-form-urlencoded' }; var host = 'https://wapi.klpfood.com/index.php/WXAPI'; var cache = {}; var ppage = {}; function clean_info() { var _0xeda27f = { 'nsROV': 'session_id', 'IycMz': 'userinfo', 'dHuvl': 'distribut_id' }; wx['setStorageSync'](_0xeda27f['nsROV'], ''); wx['setStorageSync'](_0xeda27f['IycMz'], ''); wx['setStorageSync'](_0xeda27f['dHuvl'], ''); } function loadv2(_0x382f9b, _0x5d2e1a, _0x3174eb = 0x1770) { let _0x7ff2bf = { 'hidev2': function () { } }; return { 'load': _0x7ff2bf }; } function lenght(_0x2be3f2) { var _0x14d8eb = { 'frsQz': function (_0x228fad, _0x3c3c54) { return _0x228fad < _0x3c3c54; }, 'PDNHr': function (_0x19a18d, _0x1731ea) { return _0x19a18d + _0x1731ea; } }; let _0x45acbc = 0x0; var _0x3baff7 = /^[\u0391-\uFFE5]$/gi; for (let _0x54b31d = 0x0; _0x14d8eb['frsQz'](_0x54b31d, _0x2be3f2['lenght']); _0x54b31d++) { let _0x341d02 = _0x2be3f2[_0x54b31d]; if (_0x3baff7['test'](_0x341d02)) { _0x45acbc = _0x14d8eb['PDNHr'](_0x45acbc, 0x2); } else { _0x45acbc = _0x14d8eb['PDNHr'](_0x45acbc, 0x1); } } returnj; } function check_login(_0x431666 = '获取微信授权，再进行操作~', _0x5546c9 = 0x1388) { var _0x5f3193 = { 'dVPgY': 'userinfo', 'EtAkM': function (_0x41260a, _0x275e04) { return _0x41260a == _0x275e04; }, 'jrrJd': function (_0x126828) { return _0x126828(); }, 'sRkYx': function (_0x13135d) { return _0x13135d(); } }; var _0x30f921 = wx['getStorageSync'](_0x5f3193['dVPgY']); if (_0x5f3193['EtAkM'](_0x30f921, '')) { _0x5f3193['jrrJd'](clean_info); const _0x54f85d = _0x5f3193['sRkYx'](getApp); return _0x54f85d['login'](); } return !![]; } function de(_0x4ed11b) { var _0x34f9bd = { 'fOlBB': function (_0x55f904, _0x4ed11b) { return _0x55f904 == _0x4ed11b; }, 'XirkL': 'string', 'YYsuy': function (_0xc5a300, _0x4ed11b) { return _0xc5a300 == _0x4ed11b; }, 'upBWb': function (_0x4c8cfe, _0x4ed11b) { return _0x4c8cfe == _0x4ed11b; }, 'cngOB': 'number', 'CKcQy': function (_0x23cdde, _0x4ed11b) { return _0x23cdde == _0x4ed11b; }, 'hEVmR': 'boolean', 'eLrnH': function (_0x198aac, _0x473f77) { return _0x198aac(_0x473f77); }, 'SdjCU': function (_0x4a89c1, _0x4ed11b) { return _0x4a89c1 == _0x4ed11b; }, 'IiZsW': function (_0x43126f, _0x4ed11b) { return _0x43126f == _0x4ed11b; }, 'FhOAe': function (_0x9fb5fe, _0x4ed11b) { return _0x9fb5fe == _0x4ed11b; } }; let _0x287e6d = []; let _0x5be91b = typeof _0x4ed11b; if (_0x34f9bd['fOlBB'](_0x5be91b, _0x34f9bd['XirkL']) || _0x34f9bd['YYsuy'](_0x5be91b, _0x34f9bd['XirkL']) || _0x34f9bd['upBWb'](_0x5be91b, _0x34f9bd['cngOB']) || _0x34f9bd['CKcQy'](_0x5be91b, _0x34f9bd['hEVmR'])) { return _0x34f9bd['eLrnH'](decodeURIComponent, _0x4ed11b); } for (var _0x32d3c7 in _0x4ed11b) { _0x5be91b = typeof _0x4ed11b[_0x32d3c7]; if (_0x34f9bd['SdjCU'](_0x5be91b, _0x34f9bd['XirkL']) || _0x34f9bd['SdjCU'](_0x5be91b, _0x34f9bd['cngOB']) || _0x34f9bd['IiZsW'](_0x5be91b, _0x34f9bd['hEVmR'])) { if (_0x34f9bd['FhOAe'](_0x5be91b, _0x34f9bd['cngOB']) || _0x34f9bd['FhOAe'](_0x5be91b, _0x34f9bd['hEVmR'])) { _0x287e6d[_0x32d3c7] = _0x4ed11b[_0x32d3c7]; } else { _0x287e6d[_0x32d3c7] = _0x34f9bd['eLrnH'](decodeURIComponent, _0x4ed11b[_0x32d3c7]); } } else { _0x287e6d[_0x32d3c7] = _0x34f9bd['eLrnH'](de, _0x4ed11b[_0x32d3c7]); } } return _0x287e6d; } function unique3() { var _0x4e260a = { 'xGJpj': function (_0x5f0f76, _0x257fb0) { return _0x5f0f76 < _0x257fb0; } }; var _0x10b734 = []; var _0x1afd79 = {}; for (var _0x3704f6 = 0x0; _0x4e260a['xGJpj'](_0x3704f6, this['length']); _0x3704f6++) { if (!_0x1afd79[this[_0x3704f6]]) { _0x10b734['push'](this[_0x3704f6]); _0x1afd79[this[_0x3704f6]] = 0x1; } } return _0x10b734; }; function urlEncode(_0xf16273, _0x57feae, _0x429ba2, _0x31ae8b = 0x1) { var _0x1db0fe = { 'Knbnr': function (_0x392bd5, _0x41a654) { return _0x392bd5 == _0x41a654; }, 'iUkPD': 'string', 'FGyyy': function (_0x96afdb, _0x5cc240) { return _0x96afdb == _0x5cc240; }, 'UPnrL': 'number', 'wxuml': function (_0x4f882e, _0x3985ac) { return _0x4f882e == _0x3985ac; }, 'uNBLI': 'boolean', 'idBdx': function (_0x28d821, _0x5e5cea) { return _0x28d821 + _0x5e5cea; }, 'krEaf': function (_0x289ab3, _0xa7c7d0) { return _0x289ab3 == _0xa7c7d0; }, 'scVpN': function (_0x3bbae9, _0x8289cd) { return _0x3bbae9(_0x8289cd); }, 'dhhcI': function (_0x4da080, _0x367ded) { return _0x4da080 == _0x367ded; }, 'otdvI': function (_0x5493c6, _0x1aaf37) { return _0x5493c6 + _0x1aaf37; }, 'feMim': function (_0x31949a, _0x3ce0b7) { return _0x31949a + _0x3ce0b7; }, 'tzmCY': function (_0x1c1b06, _0xfd1671, _0x8f52e6, _0x31a37e, _0x37d0df) { return _0x1c1b06(_0xfd1671, _0x8f52e6, _0x31a37e, _0x37d0df); } }; if (_0x1db0fe['Knbnr'](_0xf16273, null)) return ''; let _0x4daafc = ''; let _0x43eb6c = typeof _0xf16273; if (_0x1db0fe['Knbnr'](_0x43eb6c, _0x1db0fe['iUkPD']) || _0x1db0fe['FGyyy'](_0x43eb6c, _0x1db0fe['UPnrL']) || _0x1db0fe['wxuml'](_0x43eb6c, _0x1db0fe['uNBLI'])) { _0x4daafc += _0x1db0fe['idBdx'](_0x1db0fe['idBdx'](_0x1db0fe['idBdx']('&', _0x57feae), '='), _0x1db0fe['krEaf'](_0x429ba2, null) || _0x429ba2 ? _0x1db0fe['scVpN'](encodeURIComponent, _0xf16273) : _0xf16273); } else { for (var _0x4ac25e in _0xf16273) { let _0x2d5631 = _0x1db0fe['dhhcI'](_0x57feae, null) ? _0x4ac25e : _0x1db0fe['otdvI'](_0x57feae, _0x1db0fe['otdvI'](_0x1db0fe['feMim']('[', _0x4ac25e), ']')); _0x4daafc += _0x1db0fe['tzmCY'](urlEncode, _0xf16273[_0x4ac25e], _0x2d5631, _0x429ba2, _0x1db0fe['feMim'](_0x31ae8b, 0x1)); } } if (_0x1db0fe['dhhcI'](_0x31ae8b, 0x1)) { return _0x4daafc['substr'](0x1); } return _0x4daafc; }; function Toast_success(_0x4bd07d = '成功', _0x3d8a2b = null, _0x35e2d6 = 0xbb8) { var _0xbee151 = { 'SrXyk': function (_0x2ea964, _0x49cd85) { return _0x2ea964 != _0x49cd85; }, 'dQdIz': function (_0x8d0c3b, _0x18906c, _0x3e37ea) { return _0x8d0c3b(_0x18906c, _0x3e37ea); }, 'HasJV': 'success' }; wx['showToast']({ 'title': _0x4bd07d, 'icon': _0xbee151['HasJV'], 'duration': _0x35e2d6, 'mask': !![], 'complete': function () { if (_0xbee151['SrXyk'](_0x3d8a2b, null)) _0xbee151['dQdIz'](setTimeout, _0x3d8a2b, 0x5dc); } }); }; function loading(_0x7c5aec = '加载中', _0x1eb6b5 = null, _0x396207 = 0x7d0) { var _0x429884 = { 'PEBcl': function (_0x55aa4c, _0x178eca) { return _0x55aa4c != _0x178eca; }, 'QTNxj': function (_0x28064e, _0x5a8d22, _0x3308db) { return _0x28064e(_0x5a8d22, _0x3308db); }, 'yUxlI': 'none' }; wx['showLoading']({ 'title': _0x7c5aec, 'icon': _0x429884['yUxlI'], 'mask': !![], 'success': function () { if (_0x429884['PEBcl'](_0x1eb6b5, null)) _0x429884['QTNxj'](setTimeout, _0x1eb6b5, _0x396207); } }); }; function hide_cast() { wx['hideLoading'](); } function neterr() { var _0x2011ae = { 'QNApD': function (_0x2b8983, _0x485165) { return _0x2b8983 == _0x485165; }, 'nBijU': 'none', 'WYfcj': '暂无网络', 'dxXKx': '网络不太好' }; wx['getNetworkType']({ 'success': function (_0xe5d6f3) { var _0x2aad6a = _0xe5d6f3['networkType']; if (_0x2011ae['QNApD'](_0x2aad6a, _0x2011ae['nBijU'])) { wx['showToast']({ 'title': _0x2011ae['WYfcj'], 'icon': _0x2011ae['nBijU'], 'duration': 0xbb8 }); } if (_0x2011ae['QNApD'](_0x2aad6a, '2g')) { wx['showToast']({ 'title': _0x2011ae['dxXKx'], 'icon': _0x2011ae['nBijU'], 'duration': 0xbb8 }); } } }); } function Toast_error(_0x1d272a = '失败', _0x303a26 = null, _0xfb403b = 0x7d0) { var _0x28b817 = { 'QvoLN': function (_0x465a2c, _0x2f3187) { return _0x465a2c != _0x2f3187; }, 'AiIQB': function (_0x1ebed5, _0x561ff1, _0x5dee9a) { return _0x1ebed5(_0x561ff1, _0x5dee9a); }, 'vXhcv': 'none' }; wx['showToast']({ 'title': _0x1d272a, 'icon': _0x28b817['vXhcv'], 'duration': _0xfb403b, 'mask': !![], 'complete': function () { if (_0x28b817['QvoLN'](_0x303a26, null)) _0x28b817['AiIQB'](setTimeout, _0x303a26, _0xfb403b); } }); }; module['exports'] = { 'de': de, 'loadv2': loadv2, 'urlEncode': urlEncode, 'check_login': check_login, 'Toast_success': Toast_success, 'Toast_error': Toast_error, 'loading': loading, 'hide_cast': hide_cast, 'unique3': unique3, 'getJSON': function () { var _0x57ad62 = { 'KcrYJ': function (_0x57222b, _0xac7b44) { return _0x57222b == _0xac7b44; }, 'KtLvN': 'session_id', 'IdoXh': 'session-id', 'ZuRCH': function (_0x3103a9, _0xfc24e, _0x351b3f, _0x212694, _0x4e581f, _0x4b66a5, _0xe4f01b) { return _0x3103a9(_0xfc24e, _0x351b3f, _0x212694, _0x4e581f, _0x4b66a5, _0xe4f01b); }, 'RcYJq': 'GET', 'KAIQH': function (_0x323f53, _0x69cc01) { return _0x323f53 + _0x69cc01; } }; if (_0x57ad62['KcrYJ'](session_id, '')) { session_id = wx['getStorageSync'](_0x57ad62['KtLvN']); } header[_0x57ad62['IdoXh']] = session_id; _0x57ad62['ZuRCH'](request, _0x57ad62['RcYJq'], _0x57ad62['KAIQH'](host, arguments[0x0]), null, header, null, arguments[0x2])['then'](arguments[0x1]); }, 'postJSON': function () { var _0x52589b = { 'Kmrii': function (_0x3a7ff4, _0x2aba9b) { return _0x3a7ff4(_0x2aba9b); }, 'NMLYN': function (_0x3093eb, _0xccd35e) { return _0x3093eb == _0xccd35e; }, 'PFsLS': function (_0x1f78d3, _0x6b82ff) { return _0x1f78d3 + _0x6b82ff; }, 'cMmpz': function (_0x47a8e9, _0x504d57) { return _0x47a8e9 + _0x504d57; }, 'NdFbV': function (_0x4759f3, _0x1bb7d1) { return _0x4759f3 + _0x1bb7d1; }, 'GGiAV': '====', 'qCsPM': function (_0xa59fc1, _0x12b7b8) { return _0xa59fc1 != _0x12b7b8; }, 'eMoHx': function (_0x42c7a2, _0x532e5f) { return _0x42c7a2 == _0x532e5f; }, 'dSxly': 'session_id', 'MkbBa': 'session-id', 'OXbji': function (_0x58461e, _0x34915e, _0x34cbd9, _0xfeda71, _0x399168, _0x1c33b9, _0x1f134b) { return _0x58461e(_0x34915e, _0x34cbd9, _0xfeda71, _0x399168, _0x1c33b9, _0x1f134b); }, 'sQeWM': 'POST', 'YYkuD': function (_0x4f9400, _0x10c252) { return _0x4f9400 + _0x10c252; }, 'QDsQb': function (_0x2793f5, _0x41aa85, _0x212fd2, _0x3b0941, _0x3bc4a8, _0x252eb0) { return _0x2793f5(_0x41aa85, _0x212fd2, _0x3b0941, _0x3bc4a8, _0x252eb0); } }; if (_0x52589b['NMLYN'](arguments[0x3], !![])) { var _0x461467 = md5['hex_md5'](_0x52589b['PFsLS'](host, arguments[0x0])); console['log'](_0x52589b['cMmpz'](_0x52589b['NdFbV'](arguments[0x0], _0x52589b['GGiAV']), _0x461467)); var _0xc416c3 = cache[_0x461467]; if (_0x52589b['qCsPM'](_0xc416c3, undefined)) { var _0x456aef = arguments[0x2]; _0x52589b['Kmrii'](_0x456aef, _0xc416c3); return _0xc416c3; } } if (_0x52589b['eMoHx'](session_id, '')) { session_id = wx['getStorageSync'](_0x52589b['dSxly']); } header[_0x52589b['MkbBa']] = session_id; let _0x5b874c = arguments[0x2]; if (_0x52589b['qCsPM'](_0x5b874c, undefined)) { return _0x52589b['OXbji'](request, _0x52589b['sQeWM'], _0x52589b['YYkuD'](host, arguments[0x0]), arguments[0x1], header, arguments[0x3], arguments[0x4])['then'](function (_0x405812) { var _0x3f945d = { 'EVpPX': function (_0x28b5b7, _0xfea056) { return _0x52589b['Kmrii'](_0x28b5b7, _0xfea056); } }; return new Promise(function (_0xf278e1, _0x2f8b83) { _0x3f945d['EVpPX'](_0x5b874c, _0x405812); }); }); } else { return _0x52589b['QDsQb'](request, _0x52589b['sQeWM'], _0x52589b['YYkuD'](host, arguments[0x0]), arguments[0x1], header, arguments[0x3]); } } }; function request(_0xea25c2, _0x4577d5, _0x3a02a6, _0x12b6d2 = { 'Content-Type': 'application/x-www-form-urlencoded' }, _0x22a972 = null, _0x5a2d2c = ![]) { var _0x69a579 = { 'duELf': function (_0x318e5f, _0x205ddc) { return _0x318e5f == _0x205ddc; }, 'DFIkj': 'function', 'WXfvA': function (_0xbbf320) { return _0xbbf320(); }, 'HbxEf': 'try\x20login', 'uafYO': function (_0x3a9ce1, _0x12fbba) { return _0x3a9ce1(_0x12fbba); }, 'LCAau': function (_0x49b2c4, _0x4c128b) { return _0x49b2c4 == _0x4c128b; }, 'ATogS': function (_0x2e807d) { return _0x2e807d(); }, 'ZxMUJ': function (_0xdba99f, _0x1457f7) { return _0xdba99f(_0x1457f7); }, 'zbbad': 'try\x20YES', 'xOxJy': function (_0x3e0116, _0x39ceec) { return _0x3e0116 == _0x39ceec; }, 'YcisL': function (_0x1aec39, _0x4066d9) { return _0x1aec39 === _0x4066d9; }, 'UAsfq': 'object' }; if (_0x69a579['YcisL'](typeof _0x3a02a6, _0x69a579['UAsfq'])) { _0x3a02a6 = _0x69a579['ZxMUJ'](urlEncode, _0x3a02a6); } return new Promise((_0x5d1467, _0xa9290f) => { var _0x3e8416 = { 'WKiSv': _0x69a579['HbxEf'], 'FGKqt': function (_0x5c1b19, _0x338a0a) { return _0x69a579['duELf'](_0x5c1b19, _0x338a0a); }, 'Syhem': function (_0x5e224e, _0x362f27) { return _0x69a579['uafYO'](_0x5e224e, _0x362f27); }, 'pCeLz': function (_0x29209e, _0x38cf4c) { return _0x69a579['LCAau'](_0x29209e, _0x38cf4c); }, 'nnOQr': function (_0x5f332c) { return _0x69a579['ATogS'](_0x5f332c); }, 'YvRCX': function (_0x205743, _0x24057e) { return _0x69a579['ZxMUJ'](_0x205743, _0x24057e); }, 'BvZUZ': _0x69a579['zbbad'], 'vlCfi': function (_0x447b2f, _0x56d369) { return _0x69a579['xOxJy'](_0x447b2f, _0x56d369); } }; const _0x1e5cb8 = {}; wx['request']({ 'url': _0x4577d5, 'method': _0xea25c2, 'data': _0x3a02a6, 'header': _0x12b6d2, 'success': _0x16965b => { var _0x4b6a3d = { 'kAgjQ': _0x3e8416['WKiSv'], 'QxmPD': function (_0x438549, _0x4e51e9) { return _0x3e8416['FGKqt'](_0x438549, _0x4e51e9); }, 'OEfom': function (_0x39bb85, _0x273e6c) { return _0x3e8416['Syhem'](_0x39bb85, _0x273e6c); }, 'pyfqY': function (_0x24b4bc, _0x55c405) { return _0x3e8416['Syhem'](_0x24b4bc, _0x55c405); } }; if (_0x3e8416['pCeLz'](_0x16965b['data']['status'], 0x191)) { _0x3e8416['nnOQr'](clean_info); _0x3e8416['nnOQr'](check_login)['then'](() => { wx['request']({ 'url': _0x4577d5, 'method': _0xea25c2, 'data': _0x3a02a6, 'header': _0x12b6d2, 'success': _0x16965b => { console['log'](_0x4b6a3d['kAgjQ']); if (_0x4b6a3d['QxmPD'](_0x16965b['data']['status'], 0x191)) { return; } if (_0x5a2d2c) { cache[md5['hex_md5'](_0x4577d5)] = _0x16965b; } _0x4b6a3d['OEfom'](_0x5d1467, _0x16965b); }, 'fail': _0x1ac696 => { _0x4b6a3d['pyfqY'](_0xa9290f, _0x1ac696); } }); }); return; } if (_0x5a2d2c) { cache[md5['hex_md5'](_0x4577d5)] = _0x16965b; } _0x3e8416['Syhem'](_0x5d1467, _0x16965b); }, 'fail': _0x40df34 => { var _0x21c00a = { 'TXXTa': _0x3e8416['BvZUZ'], 'IXtdp': function (_0x1fd81e, _0x59a5fd) { return _0x3e8416['vlCfi'](_0x1fd81e, _0x59a5fd); }, 'BUYje': function (_0x357d64, _0x2ebf9e) { return _0x3e8416['YvRCX'](_0x357d64, _0x2ebf9e); } }; wx['hideLoading'](); wx['stopPullDownRefresh'](); wx['request']({ 'url': _0x4577d5, 'method': _0xea25c2, 'data': _0x3a02a6, 'header': _0x12b6d2, 'success': _0x397cd9 => { console['log'](_0x21c00a['TXXTa']); if (_0x21c00a['IXtdp'](_0x397cd9['data']['status'], 0x191)) { return; } if (_0x5a2d2c) { cache[md5['hex_md5'](_0x4577d5)] = _0x397cd9; } _0x21c00a['BUYje'](_0x5d1467, _0x397cd9); }, 'fail': _0x40df34 => { _0x3e8416['YvRCX'](_0xa9290f, _0x40df34); } }); }, 'complete'() { _0x69a579['duELf'](typeof _0x22a972, _0x69a579['DFIkj']) && _0x69a579['WXfvA'](_0x22a972); } }); }); }